---
title: Fan control to reduce noise
created: !!timestamp '2016-01-07 16:22:32'
tags:
    - linux
---

{% mark excerpt -%}

控制电脑风扇，抑制不良噪音

{%- endmark %}

电脑的噪音是我一直要解决的问题，最近有空准备解决一下。首先从硬件角度，我本来想找一款无风扇 CPU，但这样的 CPU 的性能实在是一个瓶颈，还不到可以当作日常工作电脑的要求，于是只能想办法抑制风扇的速度。电源风扇是可以通过硬件解决的：我买了一款无风扇电源，虽然贵点，但的确安静了好多。

然后从软件角度，需要装两个软件包，一个是 lm-sensors，另外一个是 fancontrol。通过 sensors-detect 可以对系统进行检测，看看是否可以判断出所使用的传感器芯片。经过一系列检测之后幸运的识别了芯片型号：IT8728F，只要加载 it87 这个模块就好了。

接下来用 pwmconfig 可以检测当前 PWM 通道和风扇速度的对应关系，并且通过问答的方式将 fancontrol 的配置文件写好。比如要设定最低和最高的 PWM 值，最低和最高的检测温度等。当询问具体用哪个温度值为参考温度时，我选择了 temp_type 为 4 的一个temp_input，应该就是其中的一个核心温度。

最后启动 fancontrol deamon，终于这个世界安静了。稳定后核心温度在 46 度左右，而风扇的速度为 570 左右，基本听不到声音。
